import{u as p,a as h,c as g,r as l,j as e,d as f,b as x}from"./index-DeRs25tb.js";import{l as j,a as b}from"./logo-CRNJV_XG.js";import{I as v,B as m}from"./Icon-ZCyfFCep.js";import{h as y}from"./customer.service-C0Zt9a2E.js";import{F as u}from"./index-C8MC8u8w.js";import{I as E}from"./index-gyB3Elxo.js";import{s as r}from"./method-http.utility-CuofCWHh.js";import"./row-Dx3yH235.js";const M=()=>{const d=p(),a=h(),{token:i}=g(),[t,n]=l.useState(!1),c=o=>{n(!0),y(o).then(s=>{s.message?r.warning(s.message):(r.success(`Bienvenido ${s.customer.cliente}`),d(f({session:s.customer,token:s.token})),a(`/${x.PRIVATE_CUSTOMER}`,{replace:!0}))}).catch(s=>r.error(`Error http login customer: ${s.message}`)).finally(()=>n(!1))};return l.useEffect(()=>{if(i){const o=window.atob(i),s=JSON.parse(o);c(s)}},[]),e.jsxs("div",{className:"login-container-customer",children:[e.jsx("img",{src:j,alt:"logo",width:150}),e.jsx("div",{className:"flex-1 flex justify-center items-center",children:e.jsx("div",{className:"card-customer shadow-lg",children:e.jsxs(u,{layout:"vertical",onFinish:c,children:[e.jsx("div",{className:"text-center",children:e.jsx("img",{src:b,alt:"logo",width:180})}),e.jsx(u.Item,{label:"Correo",name:"correo",rules:[{required:!0,message:"El correo es requerido"}],children:e.jsx(E,{placeholder:"Ingrese un correo",type:"EMail",autoFocus:!0,prefix:e.jsx(v.EMail,{}),autoCapitalize:"off"})}),e.jsx(m,{block:!0,type:"primary",htmlType:"submit",loading:t,disabled:t,children:"Iniciar SesiÃ³n"}),e.jsx(m,{block:!0,type:"link",htmlType:"button",loading:t,disabled:t,onClick:()=>a("/"),children:"Soy usuario"})]})})})]})};export{M as SingInCustomer};
