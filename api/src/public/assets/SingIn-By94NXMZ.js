import{u as g,a as f,r as u,j as e,p as j,s as y,b}from"./index-DeRs25tb.js";import{l as I,a as S}from"./logo-CRNJV_XG.js";import{I as r,B as i}from"./Icon-ZCyfFCep.js";import{h as v}from"./user.service-Dnl2prAi.js";import{F as l}from"./index-C8MC8u8w.js";import{I as m}from"./index-gyB3Elxo.js";import{s as d}from"./method-http.utility-CuofCWHh.js";import"./row-Dx3yH235.js";const C=t=>({...t,id_sesion:t.id_usuario,iniciales:t.nombre.substring(0,2).toUpperCase()}),F=()=>{const t=g(),n=f(),[o,p]=u.useState(!1),[a,c]=u.useState(!1),h=x=>{c(!0),v(x).then(s=>{s.message?d.warning(s.message):(t(y({session:C(s.session),token:s.token})),n(`/${b.PRIVATE}`,{replace:!0}))}).catch(s=>d.error(`Error http login: ${s.message}`)).finally(()=>c(!1))};return e.jsxs("div",{className:"login-container",children:[e.jsx("img",{src:I,alt:"logo",width:180}),e.jsx("div",{className:"flex-1 flex justify-center items-center",children:e.jsx("div",{className:"card shadow-lg",children:e.jsxs(l,{layout:"vertical",onFinish:h,children:[e.jsx("div",{className:"text-center",children:e.jsx("img",{src:S,alt:"logo",width:150})}),e.jsx(l.Item,{label:"Usuario",name:"usuario",rules:[{required:!0,message:"El usuario es requerido"}],children:e.jsx(m,{placeholder:"Ingrese un usuario",autoFocus:!0,prefix:e.jsx(r.User,{}),autoCapitalize:"off"})}),e.jsx(l.Item,{label:"Contraseña",name:"contrasenia",rules:[{required:!0,message:"El usuario es requerido"}],children:e.jsx(m,{placeholder:"Ingrese una contraseña",type:o?"text":"password",autoCapitalize:"off",autoComplete:"off",prefix:e.jsx(r.Lock,{}),suffix:e.jsx(i,{size:"small",type:"text",onClick:()=>p(!o),icon:o?e.jsx(r.EyeSlash,{}):e.jsx(r.Eye,{})})})}),e.jsx(i,{block:!0,type:"link",htmlType:"button",disabled:a,children:"Olvidé la contraseña"}),e.jsx(i,{block:!0,type:"primary",htmlType:"submit",loading:a,disabled:a,children:"Iniciar Sesión"}),e.jsx("div",{className:"text-right mt-5",children:e.jsx(i,{type:"primary",ghost:!0,size:"small",htmlType:"button",loading:a,onClick:()=>n(`/${j.SING_IN_CUSTOMER}`,{replace:!0}),children:"Soy cliente"})})]})})}),e.jsx("footer",{children:e.jsx("p",{className:"w-100 text-center",children:e.jsx("small",{children:" Copyright © 2024 ays-saavedra.com"})})})]})};export{F as SingIn};
