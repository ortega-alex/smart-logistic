import{u as j,a as f,r as u,j as e,p as m,s as y,b}from"./index-fBuO0l8w.js";import{l as I,a as S}from"./logo-CRNJV_XG.js";import{I as r,B as i,s as d}from"./method-http.utility-CM8CHeIw.js";import{h as C}from"./user.service-BOcMb7XX.js";import{F as n}from"./index-CCcnvYN1.js";import{I as p}from"./index-BKdQ44jl.js";import"./row-BIFJ6Q4x.js";const k=t=>({...t,id_sesion:t.id_usuario,iniciales:t.nombre.substring(0,2).toUpperCase()}),_=()=>{const t=j(),o=f(),[l,h]=u.useState(!1),[a,c]=u.useState(!1),x=g=>{c(!0),C(g).then(s=>{s.message?d.warning(s.message):(t(y({session:k(s.session),token:s.token})),o(`/${b.PRIVATE}`,{replace:!0}))}).catch(s=>d.error(`Error http login: ${s.message}`)).finally(()=>c(!1))};return e.jsxs("div",{className:"login-container",children:[e.jsx("img",{src:I,alt:"logo",width:180}),e.jsx("div",{className:"flex-1 flex justify-center items-center",children:e.jsx("div",{className:"card shadow-lg",children:e.jsxs(n,{layout:"vertical",onFinish:x,children:[e.jsx("div",{className:"text-center",children:e.jsx("img",{src:S,alt:"logo",width:150})}),e.jsx(n.Item,{label:"Usuario",name:"usuario",rules:[{required:!0,message:"El usuario es requerido"}],children:e.jsx(p,{placeholder:"Ingrese un usuario",autoFocus:!0,prefix:e.jsx(r.User,{}),autoCapitalize:"off"})}),e.jsx(n.Item,{label:"Contraseña",name:"contrasenia",rules:[{required:!0,message:"El usuario es requerido"}],children:e.jsx(p,{placeholder:"Ingrese una contraseña",type:l?"text":"password",autoCapitalize:"off",autoComplete:"off",prefix:e.jsx(r.Lock,{}),suffix:e.jsx(i,{size:"small",type:"text",onClick:()=>h(!l),icon:l?e.jsx(r.EyeSlash,{}):e.jsx(r.Eye,{})})})}),e.jsx(i,{block:!0,type:"link",htmlType:"button",disabled:a,onClick:()=>o(`/${m.FORGOT_PASS}`,{replace:!0}),children:"Olvidé la contraseña"}),e.jsx(i,{block:!0,type:"primary",htmlType:"submit",loading:a,disabled:a,children:"Iniciar Sesión"}),e.jsx("div",{className:"text-right mt-5",children:e.jsx(i,{type:"primary",ghost:!0,size:"small",htmlType:"button",loading:a,onClick:()=>o(`/${m.SING_IN_CUSTOMER}`,{replace:!0}),children:"Soy cliente"})})]})})}),e.jsx("footer",{children:e.jsx("p",{className:"w-100 text-center",children:e.jsx("small",{children:" Copyright © 2024 ays-saavedra.com"})})})]})};export{_ as SingIn};
