import{O as y,r as a,j as t}from"./index-C_I45hcy.js";import{s as b,T as C,B as i,I as n}from"./method-http.utility-DRGzK4dc.js";import{S as w}from"./Search-DSw0sd9I.js";import{g as N}from"./format.utility-B-GMUqP5.js";import{h as E}from"./customer.service-CzesvJdQ.js";import{S as I,L as T,F as z}from"./Table-C1au93bv.js";import"./index-C0Q_eWM9.js";import"./Private-BjoEPDeC.js";const V=()=>{const m=y(e=>e.device),[p,u]=a.useState([]),[d,f]=a.useState([]),[c]=a.useState({data:!1,services:!1}),[l,j]=a.useState({pagination:{current:1,pageSize:250}}),[g,o]=a.useState(""),S=(e,s,r)=>{var h;j({pagination:e,filters:s,sortOrder:Array.isArray(r)?void 0:r.order,sortField:Array.isArray(r)?void 0:r.field}),e.pageSize!==((h=l.pagination)==null?void 0:h.pageSize)&&f([])},x=e=>{console.log(e)},v=()=>{};return a.useEffect(()=>{E().then(e=>u(e==null?void 0:e.filter(s=>s.estado))).catch(e=>b.error(`Error http get customers: ${e.message}}`))},[]),a.useEffect(()=>{},[JSON.stringify(l),g]),t.jsxs("div",{className:"h-100 flex flex-column p-3",children:[t.jsxs("div",{className:"flex flex-md-column gap-3 justify-between items-end mb-3",children:[t.jsxs("div",{className:"flex flex-column",children:[t.jsx("label",{htmlFor:"cliente",children:"Cliente"}),t.jsx(I,{placeholder:"Selecciones una opción",options:p.filter(e=>e.estado).map(e=>({label:e.cliente,value:e.id_cliente})),onChange:e=>o(e),allowClear:!0,style:{minWidth:200}})]}),t.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t.jsx(C,{title:"Recargar",children:t.jsx(i,{type:"text",htmlType:"button",icon:t.jsx(n.Reload,{}),onClick:()=>v()})}),t.jsx(w,{onSearch:e=>o(e),onReset:()=>o("")})]}),t.jsx(i,{type:"primary",htmlType:"button",onClick:()=>{},children:"Agregar"})]}),m?t.jsx(T,{dataSource:d,loading:c.data,renderItem:e=>{var s,r;return t.jsxs("div",{className:"item-list",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("strong",{children:"Cliente: "})," ",(s=e.quote.cliente)==null?void 0:s.cliente]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("strong",{children:"Vendedor: "})," ",(r=e.quote.vendedor)==null?void 0:r.nombre]}),t.jsxs("div",{className:"flex flex-row justify-between",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Estado: "})," ",e.estado?"Activo":"Inactivo"]}),t.jsx(i,{type:"link",danger:!0,htmlType:"button",icon:t.jsx(n.Edit,{}),onClick:()=>x(e.id),children:"Editar"})]})]},e.id)}}):t.jsx(z,{size:"small",rowClassName:(e,s)=>s%2===0?"table-row-light":"table-row-dark",pagination:{position:["none","bottomRight"],...l.pagination,showSizeChanger:!0,pageSizeOptions:[50,100,250,500]},onChange:S,className:"table",loading:c.data,showSorterTooltip:!1,rowKey:"id",dataSource:d,columns:[{title:"No",dataIndex:"id",sorter:!0},{title:"Fecha",dataIndex:"fecha_creacion",ellipsis:!0,sorter:!0,render:e=>t.jsx("span",{children:N(e,"DD/MM/YYYY")})},{title:"Loter",dataIndex:"lote",ellipsis:!0,sorter:!0},{title:"Vendedor",dataIndex:"vendedor",ellipsis:!0,sorter:!0,render:e=>t.jsx("span",{children:e.nombre})},{title:"Cliente",dataIndex:"cliente",ellipsis:!0,sorter:!0,render:e=>t.jsx("span",{children:e.quote.cliente})},{title:"Marca y Modelo",ellipsis:!0,render:e=>t.jsxs("span",{children:[e.quote.marca," - ",e.quote.modelo]})},{title:"Opciones",dataIndex:"operacion",width:80,render:(e,s)=>t.jsx(i,{style:{width:40},icon:t.jsx(n.Edit,{}),type:"text",size:"small",onClick:()=>x(s.id),children:"Ver"})}]})]})};export{V as Vehicles};
