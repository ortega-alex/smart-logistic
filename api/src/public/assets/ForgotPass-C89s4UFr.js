import{a as h,r as a,j as e}from"./index-fBuO0l8w.js";import{l as f,a as x}from"./logo-CRNJV_XG.js";import{I as j,B as d,s as r}from"./method-http.utility-CM8CHeIw.js";import{a as y,b}from"./user.service-BOcMb7XX.js";import{F as i}from"./index-CCcnvYN1.js";import{I as w}from"./index-BKdQ44jl.js";import{T as I}from"./index-DZj02Egy.js";import"./row-BIFJ6Q4x.js";import"./DownOutlined-CODLCnfK.js";const T=()=>{const c=h(),[o,m]=a.useState(""),[l,n]=a.useState(!1),[u,g]=a.useState(0),p=async t=>{try{if(n(!0),o===""){const s=await y(t);s.code?(r.info(s.message),m(s.code),g(s.user_id)):r.warning(s.message)}else{if(t.codigo!==o)return r.error("El codigo es incorrecto");const s=await b(u,t);r[s.success?"success":"warning"](s.message),s.success&&c(-1)}}catch(s){r.error(`Error http forgot password: ${s.message}`)}finally{n(!1)}};return e.jsxs("div",{className:"login-container",children:[e.jsx("img",{src:f,alt:"logo",width:180}),e.jsx("div",{className:"flex-1 flex justify-center items-center",children:e.jsxs("div",{className:"card shadow-lg",children:[e.jsx("div",{className:"text-center",children:e.jsx("img",{src:x,alt:"logo",width:150})}),e.jsxs(i,{layout:"vertical",onFinish:p,children:[e.jsx(i.Item,{label:"Correo",name:"correo",rules:[{required:!0,message:"El correo es requerido"}],children:e.jsx(w,{placeholder:"Ingrese un correo",type:"EMail",autoFocus:!0,prefix:e.jsx(j.EMail,{}),autoCapitalize:"off"})}),o!==""&&e.jsx(i.Item,{label:"Codigo",name:"codigo",rules:[{required:!0,message:"El codigo es requerido"}],children:e.jsx(I,{placeholder:"Ingrese un codigo",autoFocus:!0,className:"w-100"})}),e.jsx(d,{type:"link",htmlType:"button",block:!0,onClick:()=>c(-1),loading:l,disabled:l,children:"Regresar"}),e.jsx(d,{type:"primary",htmlType:"submit",block:!0,children:o===""?"Validar":"Restablecer"})]})]})})]})};export{T as ForgotPass};
