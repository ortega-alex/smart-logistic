import{u as p,a as h,c as g,r as l,j as e,p as x,d as f,b as j}from"./index-LOVzF4CI.js";import{l as b,a as I}from"./logo-CRNJV_XG.js";import{I as v,B as u,s as r}from"./method-http.utility-DUkeS8Cu.js";import{h as y}from"./customer.service-i0rFzX3W.js";import{F as m}from"./index-BhRCdEkM.js";import{I as E}from"./index-COXx4nht.js";import"./row-C6zbN9W4.js";const F=()=>{const d=p(),a=h(),{token:i}=g(),[t,n]=l.useState(!1),c=o=>{n(!0),y(o).then(s=>{s.message?r.warning(s.message):(r.success(`Bienvenido ${s.customer.cliente}`),d(f({session:s.customer,token:s.token})),a(`/${j.PRIVATE_CUSTOMER}`,{replace:!0}))}).catch(s=>r.error(`Error http login customer: ${s.message}`)).finally(()=>n(!1))};return l.useEffect(()=>{if(i){const o=window.atob(i),s=JSON.parse(o);c(s)}},[]),e.jsxs("div",{className:"login-container-customer",children:[e.jsx("img",{src:b,alt:"logo",width:150}),e.jsx("div",{className:"flex-1 flex justify-center items-center",children:e.jsx("div",{className:"card-customer shadow-lg",children:e.jsxs(m,{layout:"vertical",onFinish:c,children:[e.jsx("div",{className:"text-center",children:e.jsx("img",{src:I,alt:"logo",width:180})}),e.jsx(m.Item,{label:"Correo",name:"correo",rules:[{required:!0,message:"El correo es requerido"}],children:e.jsx(E,{placeholder:"Ingrese un correo",type:"EMail",autoFocus:!0,prefix:e.jsx(v.EMail,{}),autoCapitalize:"off"})}),e.jsx(u,{block:!0,type:"link",htmlType:"button",loading:t,disabled:t,onClick:()=>a(`/${x.SING_IN}`,{replace:!0}),children:"Soy usuario"}),e.jsx(u,{block:!0,type:"primary",htmlType:"submit",loading:t,disabled:t,children:"Iniciar Sesi√≥n"})]})})})]})};export{F as SingInCustomer};
