import{u as g,a as f,r as c,j as e,s as j,p as y}from"./index-DZpWEe9a.js";import{I as a,B as i,s as u}from"./method-http.utility-Ctj9xTxi.js";import{h as b}from"./user.service-Dawv7y0W.js";import{F as n,I as d}from"./index-DQcowdgb.js";const w=t=>({...t,id_sesion:t.id_usuario,iniciales:t.nombre.substring(0,2).toUpperCase()}),I=""+new URL("logo-brand-BmkSwZen.png",import.meta.url).href,k=""+new URL("logo-K3cp1Dx3.png",import.meta.url).href,N=()=>{const t=g(),m=f(),[r,p]=c.useState(!1),[o,l]=c.useState(!1),h=x=>{l(!0),b(x).then(s=>{s.message?u.warning(s.message):(t(j({session:w(s.session),token:s.token})),m(`/${y.PRIVATE}`,{replace:!0}))}).catch(s=>u.error(`Error http login: ${s.message}`)).finally(()=>l(!1))};return e.jsxs("div",{className:"login-container",children:[e.jsx("img",{src:I,alt:"logo",width:150}),e.jsx("div",{className:"flex-1 flex justify-center items-center",children:e.jsx("div",{className:"card shadow-lg",children:e.jsxs(n,{layout:"vertical",onFinish:h,children:[e.jsx("div",{className:"text-center",children:e.jsx("img",{src:k,alt:"logo",width:150})}),e.jsx(n.Item,{label:"Usuario",name:"usuario",rules:[{required:!0,message:"El usuario es requerido"}],children:e.jsx(d,{placeholder:"Ingrese un usuario",autoFocus:!0,prefix:e.jsx(a.User,{}),autoCapitalize:"off"})}),e.jsx(n.Item,{label:"Contraseña",name:"contrasenia",rules:[{required:!0,message:"El usuario es requerido"}],children:e.jsx(d,{placeholder:"Ingrese una contraseña",type:r?"text":"password",autoCapitalize:"off",autoComplete:"off",prefix:e.jsx(a.Lock,{}),suffix:e.jsx(i,{size:"small",type:"text",onClick:()=>p(!r),icon:r?e.jsx(a.EyeSlash,{}):e.jsx(a.Eye,{})})})}),e.jsx(i,{block:!0,type:"link",htmlType:"button",disabled:o,children:"Olvidé la contraseña"}),e.jsx(i,{block:!0,type:"primary",htmlType:"submit",loading:o,disabled:o,children:"Iniciar Sesión"})]})})}),e.jsx("footer",{children:e.jsx("p",{className:"w-100 text-center",children:e.jsx("small",{children:" Copyright © 2024 ays-saavedra.com"})})})]})};export{N as SingIn};
